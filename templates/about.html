{% extends "base.html" %}

{% block title %}About - DOJ Case Analysis{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <h1 class="display-4 mb-4">About the DOJ Case Analysis Project</h1>
            
            <!-- Mission Statement -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">🎯 Mission</h2>
                    <p class="lead">
                        We track and analyze Department of Justice prosecutions under <strong>18 U.S.C. § 1960</strong> 
                        (money transmission without a license), with a particular focus on cryptocurrency-related cases.
                    </p>
                    <p>
                        This project creates an open dataset for researchers, journalists, and policymakers to understand 
                        how federal authorities are enforcing money transmission laws in the digital age.
                    </p>
                </div>
            </div>

            <!-- What We Do -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">🔍 What We Do</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Data Collection</h5>
                            <ul>
                                <li>Automatically scrape DOJ press releases (2009-present)</li>
                                <li>Filter for cases mentioning 18 USC 1960 or cryptocurrency</li>
                                <li>Store structured data in searchable database</li>
                                <li>Maintain idempotent scraping to avoid duplicates</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h5>AI-Powered Data Extraction</h5>
                            <ul>
                                <li>Uses Large Language Models to parse press releases</li>
                                <li>Extracts structured data into a relational schema</li>
                                <li>Identifies entities like participants, agencies, and charges</li>
                                <li>Populates detailed tables for deep analysis</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Methodology -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">⚙️ Methodology</h2>
                    
                    <h5>Data Enrichment Pipeline</h5>
                    <ol>
                        <li><strong>Scraping</strong>: Automated collection of press releases from the DOJ API.</li>
                        <li><strong>Filtering</strong>: Keyword-based identification of potentially relevant cases.</li>
                        <li><strong>AI Extraction</strong>: LLM-powered analysis to extract entities and structured data from case text.</li>
                        <li><strong>Storage</strong>: Data is stored in a relational SQLite database with multiple tables.</li>
                    </ol>

                    <h5>Extraction Process</h5>
                    <p>
                        The enrichment process uses targeted prompts to ask a Large Language Model to act as a legal expert. It reads each press release and extracts information into a detailed, structured format, populating the database tables described below. This turns unstructured text into a queryable dataset.
                    </p>

                    <p class="text-success"><strong>Milestone reached:</strong> The system now uses a fully relational database schema as outlined in the project roadmap. All enrichment data is normalized and queryable across multiple tables.</p>
                </div>
            </div>

            <!-- Data Schema -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">📊 Relational Data Schema</h2>
                    <p>The database is composed of a central `cases` table, which holds the raw press release text, and several enrichment tables that store the structured data extracted by the AI.</p>
                    
                    <p>
                        <pre class="bg-light p-2 rounded"><code>cases (Primary Table)
   ├─ case_metadata
   ├─ participants
   ├─ case_agencies
   ├─ charges
   ├─ financial_actions
   ├─ victims
   ├─ quotes
   └─ themes</code></pre>
                    </p>

                    <div class="row">
                        <div class="col-md-6">
                            <h6>Core Tables</h6>
                            <ul>
                                <li><code>cases</code>: Raw press release content (title, text, date, URL).</li>
                                <li><code>case_metadata</code>: High-level details like court district, judge, and case numbers.</li>
                                <li><code>participants</code>: All individuals mentioned (defendants, attorneys, agents).</li>
                                <li><code>case_agencies</code>: Investigating agencies involved (FBI, IRS-CI, HSI).</li>
                                <li><code>charges</code>: Specific legal charges and statutes cited in the case.</li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Detail Tables</h6>
                            <ul>
                                <li><code>financial_actions</code>: Monetary data, including fines, forfeitures, and restitution.</li>
                                <li><code>victims</code>: Information about the victims of the described crimes.</li>
                                <li><code>quotes</code>: Direct pull-quotes from officials in the press release.</li>
                                <li><code>themes</code>: High-level thematic tags (e.g., 'romance_scam', 'darknet', 'sanctions').</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Current Status -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">📈 Current Status</h2>
                    <div class="row">
                        <div class="col-md-4 text-center">
                            <div class="border rounded p-3">
                                <h3 class="text-primary">{{ stats.total_cases if stats else 'N/A' }}</h3>
                                <p class="mb-0">Total Cases</p>
                            </div>
                        </div>
                        <div class="col-md-4 text-center">
                            <div class="border rounded p-3">
                                <h3 class="text-success">{{ stats.cases_1960 if stats else 'N/A' }}</h3>
                                <p class="mb-0">18 USC 1960 Cases</p>
                            </div>
                        </div>
                        <div class="col-md-4 text-center">
                            <div class="border rounded p-3">
                                <h3 class="text-warning">{{ stats.cases_crypto if stats else 'N/A' }}</h3>
                                <p class="mb-0">Crypto Cases</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Roadmap -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">🗺️ Roadmap</h2>
                    
                    <h5>Phase 1: Foundation (Current)</h5>
                    <ul>
                        <li>✅ Basic scraping and classification</li>
                        <li>✅ Web interface for data exploration</li>
                        <li>✅ AI verification system</li>
                        <li>✅ Public repository setup</li>
                    </ul>

                    <h5>Phase 2: Enhanced Data (Q3 2025)</h5>
                    <ul>
                        <li>✅ Schema v2 - fully relational database (now live!)</li>
                        <li>🔲 PACER integration for docket metadata</li>
                        <li>🔲 Defendant and charge tracking</li>
                        <li>🔲 Exchange/OTC desk mapping</li>
                    </ul>

                    <h5>Phase 3: Advanced Features (Q4 2025)</h5>
                    <ul>
                        <li>🔲 LLM Q&A layer - "Ask the dataset"</li>
                        <li>🔲 RESTful API for programmatic access</li>
                        <li>🔲 Advanced analytics and trend analysis</li>
                        <li>🔲 Geographic mapping and visualization</li>
                    </ul>

                    <h5>Phase 4: Production (2026)</h5>
                    <ul>
                        <li>🔲 Sanctum agent integration</li>
                        <li>🔲 Automated deployment and monitoring</li>
                        <li>🔲 Public portal with API key system</li>
                        <li>🔲 Community contributions and collaboration</li>
                    </ul>
                </div>
            </div>

            <!-- Technology Stack -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">🛠️ Technology Stack</h2>
                    <div class="row">
                        <div class="col-md-4">
                            <h6>Backend</h6>
                            <ul>
                                <li>Python 3.12</li>
                                <li>Flask (Web Framework)</li>
                                <li>SQLite (Database)</li>
                                <li>Requests (HTTP Client)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6>AI & Processing</h6>
                            <ul>
                                <li>Venice AI API</li>
                                <li>BeautifulSoup (Parsing)</li>
                                <li>RapidFuzz (Fuzzy Matching)</li>
                                <li>Python-dotenv (Configuration)</li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6>Frontend</h6>
                            <ul>
                                <li>Bootstrap 5</li>
                                <li>HTML5/CSS3</li>
                                <li>JavaScript (Minimal)</li>
                                <li>Responsive Design</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Contributing -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">🤝 Contributing</h2>
                    <p>
                        This project is open source and welcomes contributions! We're particularly interested in:
                    </p>
                    <ul>
                        <li>Improving classification accuracy</li>
                        <li>Adding new data sources</li>
                        <li>Enhancing the web interface</li>
                        <li>Developing analytics tools</li>
                        <li>Documentation and testing</li>
                    </ul>
                    <p>
                        <strong>License:</strong> This project is licensed under the 
                        <a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>.
                    </p>
                </div>
            </div>

            <!-- Contact -->
            <div class="card mb-4">
                <div class="card-body">
                    <h2 class="card-title">📞 Contact & Resources</h2>
                    <div class="row">
                        <div class="col-md-6">
                            <h6>Project Links</h6>
                            <ul>
                                <li><a href="https://github.com/actuallyrizzn/project1960" target="_blank">GitHub Repository</a></li>
                                <li><a href="{{ url_for('index') }}">Dashboard</a></li>
                                <li><a href="{{ url_for('cases') }}">Browse Cases</a></li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6>Documentation</h6>
                            <ul>
                                <li><a href="https://github.com/actuallyrizzn/project1960/blob/main/README.md" target="_blank">Setup Guide</a></li>
                                <li><a href="https://github.com/actuallyrizzn/project1960/blob/main/CHANGELOG.md" target="_blank">Development History</a></li>
                                <li><a href="https://www.law.cornell.edu/uscode/text/18/1960" target="_blank">18 USC 1960 Statute</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %} 